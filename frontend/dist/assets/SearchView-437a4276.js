import{_ as v,s as S,r as c,o as t,c as o,a as r,w as k,v as b,b as w,d as h,t as n,F as u,e as d,f as _,g as q,h as Q}from"./index-1152591e.js";const x={name:"SearchView",data(){return{searchQuery:"",results:[],isLoading:!1,hasSearched:!1}},mounted(){const a=this.$route.query.q;a&&(this.searchQuery=a,this.performSearch())},activated(){const a=this.$route.fullPath,e=sessionStorage.getItem(`scrollPos-${a}`);e&&requestAnimationFrame(()=>{window.scrollTo({top:parseInt(e,10),behavior:"instant"})})},deactivated(){const a=this.$route.fullPath;sessionStorage.setItem(`scrollPos-${a}`,window.scrollY.toString())},methods:{async performSearch(){if(this.searchQuery.trim()){this.isLoading=!0,this.hasSearched=!0,this.results=[];try{const a=await S({query:this.searchQuery.trim()});a&&Array.isArray(a.results)?this.results=a.results.map(e=>({...e,authors:Array.isArray(e.authors)?e.authors:typeof e.authors=="string"?[e.authors]:[],abstract:e.abstract||"No abstract available",year:e.year||"",venue:e.venue||"Unknown venue",categories:Array.isArray(e.categories)?e.categories:e.categories?[e.categories]:[]})):(console.error("Invalid search results format",a),this.results=[]),this.$router.replace({query:{q:this.searchQuery.trim()}})}catch(a){console.error("Error searching papers:",a),this.results=[]}finally{this.isLoading=!1}}}}},P={class:"search"},V={class:"search-container"},A={class:"search-form"},L=["disabled"],I={key:1},N={key:0,class:"loading"},B={key:1,class:"no-results"},C={key:2,class:"search-results"},D={class:"results-list"},F={class:"paper-title"},T=["href"],E={key:1},K={class:"paper-meta"},U={class:"paper-authors"},j={class:"paper-date"},M={class:"paper-categories"},R={class:"paper-abstract"},Y={class:"paper-links"},z=["href"],G={key:3,class:"search-instructions"};function H(a,e,J,O,i,l){const y=c("font-awesome-icon"),p=c("router-link");return t(),o("div",P,[r("div",V,[e[7]||(e[7]=r("h1",null,"Search Papers",-1)),r("div",A,[k(r("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.searchQuery=s),onKeyup:e[1]||(e[1]=w((...s)=>l.performSearch&&l.performSearch(...s),["enter"])),class:"search-input",placeholder:"Search papers...","aria-label":"Search papers"},null,544),[[b,i.searchQuery]]),r("button",{onClick:e[2]||(e[2]=(...s)=>l.performSearch&&l.performSearch(...s)),disabled:i.isLoading||!i.searchQuery.trim(),class:"search-button"},[i.isLoading?(t(),o("span",I,"Searching...")):(t(),h(y,{key:0,icon:"search"}))],8,L)]),i.isLoading?(t(),o("div",N,e[3]||(e[3]=[r("p",null,"Searching papers...",-1)]))):i.hasSearched&&i.results.length===0?(t(),o("div",B,[r("p",null,'No results found for "'+n(i.searchQuery)+'"',1)])):i.hasSearched&&i.results.length>0?(t(),o("div",C,[e[5]||(e[5]=r("h2",null,"Search Results",-1)),r("div",D,[(t(!0),o(u,null,d(i.results,(s,f)=>(t(),o("div",{key:s.paper_id||f,class:"paper-card"},[r("h3",F,[s.paper_id?(t(),o("a",{key:0,href:`https://arxiv.org/abs/${s.paper_id}`,target:"_blank",rel:"noopener noreferrer"},n(s.title),9,T)):(t(),o("span",E,n(s.title),1))]),r("div",K,[r("p",U,n(s.authors.join(", ")),1),r("p",j,n(s.year),1)]),r("div",M,[(t(!0),o(u,null,d(s.categories||[],(m,g)=>(t(),o("span",{key:g,class:"category-tag"},n(m),1))),128))]),r("p",R,n(s.abstract.substring(0,200))+"...",1),r("div",Y,[s.pdf_url?(t(),o("a",{key:0,href:s.pdf_url,target:"_blank",rel:"noopener noreferrer",class:"paper-button"}," View PDF ",8,z)):_("",!0),s.paper_id?(t(),h(p,{key:1,to:{name:"paper-detail",params:{id:s.paper_id}},class:"paper-button"},{default:q(()=>e[4]||(e[4]=[Q(" Details ")])),_:2},1032,["to"])):_("",!0)])]))),128))])])):(t(),o("div",G,e[6]||(e[6]=[r("p",null,"Enter a search query to find relevant deep learning papers.",-1),r("p",null,"The search uses vector embeddings to find semantically similar papers to your query.",-1)])))])])}const X=v(x,[["render",H],["__scopeId","data-v-91ac605f"]]);export{X as default};
